<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" >
    <title>관절연구소</title>
    <link rel="stylesheet" href="style.css">

    <script id="vertex-shader" type="x-shader/x-vertex">
        attribute vec3 vPosition;
        attribute vec3 vNormal;
        attribute vec2 vTexCoord;
        attribute vec3 vColor;

        uniform mat4 uWorld;
        uniform mat4 uView;
        uniform mat4 uProjection;

        varying vec3 fNormal;
        varying vec3 fPosition;
        varying vec2 fTexCoord;
        varying vec3 fColor;

        void main() {
            vec4 worldPosition = uWorld * vec4(vPosition, 1.0);
            fPosition = worldPosition.xyz;
            fNormal = mat3(uWorld) * vNormal;
            fTexCoord = vTexCoord;
            fColor = vColor;
            gl_Position = uProjection * uView * worldPosition;
        }
    </script>

    <script id="fragment-shader" type="x-shader/x-fragment">
        precision mediump float;

        varying vec3 fNormal;
        varying vec3 fPosition;
        varying vec2 fTexCoord;
        varying vec3 fColor;

        uniform vec3 uLightDirection;
        uniform vec4 uDiffuse;

        void main() {
            vec3 normal = normalize(fNormal);
            float light = dot(normal, normalize(uLightDirection));
            light = max(light, 0.0);

            vec3 color = fColor * uDiffuse.rgb * light;
            gl_FragColor = vec4(color, uDiffuse.a);
        }
    </script>

    <script type="text/javascript" src="common/webgl-utils.js"></script>
    <script type="text/javascript" src="common/initShaders.js"></script>
    <script type="text/javascript" src="common/m4.js"></script>
    <script type="module" src="main.js"></script>
</head>

<body>
<canvas id="gl-canvas" width="1024" height="1024">
</canvas>
</body>
</html>